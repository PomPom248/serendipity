!function(e){function t(a){if(i[a])return i[a].exports;var n=i[a]={i:a,l:!1,exports:{}};return e[a].call(n.exports,n,n.exports,t),n.l=!0,n.exports}var i={};t.m=e,t.c=i,t.d=function(e,i,a){t.o(e,i)||Object.defineProperty(e,i,{configurable:!1,enumerable:!0,get:a})},t.n=function(e){var i=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(i,"a",i),i},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(e,t,i){"use strict";function a(){var e=this;this.lugar=null,this.isEU=null,this.isGDPR=null,this.pistas=[],this.ajs_anonymous_id=b("ajs_anonymous_id"),this.isCustomer="YES"===b("INV_CUSTOMER_LOCAL")||"YES"===b("INV_CUSTOMER_QA")||"YES"===b("INV_CUSTOMER_LIVE"),this.timeSpent=0,this.startTime=new Date,this.clockTimeSpent=function(){return e.timeSpent=(new Date-e.startTime)/1e3}}function n(){var e=this,t=0,i=function(e){var t=Object.assign({},e);t["Page Title"]=document.title,delete t.id,delete t.class,delete t.hrefKey,t.bequeath&&delete t.bequeath;var i={};for(var a in t)/Order/.test(a)||(/gaCategory|gaAction|gaLabel|gaValue/.test(a)?i[a.replace("ga","").toLowerCase()]=t[a]:"ctaType"===a?i["CTA Type"]=t[a]:"nonInteraction"===a?i.nonInteraction=t[a]:i[p(a.replace(/_/g," "))]=t[a]);return i.Hostname=T.Hostname,w.pistas.push(i),delete i.Xpath,i},a=function(e){if(delete e.id,analytics.track(e.action,e,{integrations:{"Facebook Pixel":!0}}),-1!==e.action.search(/Visit Page/i)){var t=/\/inside-design/.test(e.Path),i=document.title,a=t?"Inside Design Blog":i,n=window.location.pathname;analytics.page(a,{title:i,path:n})}},n=function(e){var t={eventAction:e.action,eventLabel:e.label,eventCategory:e.category};e.nonInteraction&&(t.nonInteraction=e.nonInteraction),window.ga("secondTracker.send","event",t)},r=function(e){var t=e.action+" | "+e.label,i=T.hubspotEventMap[t],s=i?i.event:"";if(s&&(T.logMode&&console.log("hubspotEventName:",t,T.hubspotEventMap[t],s),_hsq.push(["trackEvent",{id:s}]),i.Segment)){var o={action:s,label:"Hubspot - "+e.label,category:e.category};a(o),n(o)}},l=function(e){var t=e.getBoundingClientRect();return t.top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth)||t.top<0&&t.bottom>(window.innerHeight||document.documentElement.clientHeight)};this.submitTrack=function(e){if(void 0!==e&&!T.leaving){var t=i(e),s=t.Parallelaction&&t.Parallelaction.length?Object.assign({},t):null;T.logMode&&console.log(t.action,t),a(t),n(t),r(t),s&&(s.action=s.Parallelaction,T.logMode&&console.log(s.action,s),delete s.Parallelaction,a(s),n(s),r(s))}},this.checkFormsIn=function(t){if(t.forms.length)for(var i=0;i<t.forms.length;i++){var a=t.forms[i];null===a.el||!l(a.el)||/escondido/.test(a.el.className)||/visto/.test(a.el.className)||(a.el.classList.add("visto"),e.submitTrack(a.trackViewObj))}};this.findFormsIn=function(t){setTimeout(function(){var i=t.apiResults.View_Form;for(var a in i){var n=g(i[a].xpath),o=t.apiResults.View_Form[a];n&&!/pista/.test(n.className)&&t.forms.push(new s(n,o))}e.checkFormsIn(t)},500)};var c=function(e){for(var t=[],i="",a="",n=null,s=!1,o=!1,r=!1,l=!1,c=0;c<e.length-1;c++)i=e[c],a=e[c+1],s=i.length<a.length,n=new RegExp(""+i),r=!n.test(a),!s&&r&&o&&!l&&t.push(i),o=s,l=r;return t},u=!1;this.trackSearch=function(t){for(var i=!0,a=t.apiResults.Search_Site_Event,n=function a(){setTimeout(function(){i||(e.trackClickArticles(t),a())},1e3)},s=0;s<a.length;s++)!function(s){var o=a[s],r=document.getElementById(o.search_id)||g(o.xpath),l=[],d=!1;r.oninput=function(){l.push(r.value)},r.onfocus=function(){i=!1,d=!1,t.apiResults.Click_Article&&n()},r.onblur=function(){i=!0,u||(u=!0,o.gaLabel="Search - "+r.value,o.inputs=c(l),o.inputs.push(r.value),e.submitTrack(o),l=[],setTimeout(function(){u=!1},750))}}(s)},this.clickInlineCTA=function(t){for(var i=t.apiResults.Click_Inline_CTA,a=function(t){var a={Hostname:i[0].hostname,"Page Name":T.name,"Page Title":T.title,Path:T.Path,Text:"",gaAction:"Web - Browsing - Twitter Share",gaCategory:i[0].gaCategory,gaLabel:"Twitter Share"},n=document.querySelectorAll('img[class*="TweetQuotecomponent"]')[0];n&&n.addEventListener("click",function(){var t=document.getSelection();a.Text=t.toString(),e.submitTrack(a)})},n=0;n<i.length;n++){(function(t){var n=i[t],s=document.querySelectorAll("."+n.container_class)[0],o=n.exclude_hrefKeys.length>0?n.exclude_hrefKeys.split(","):[];if(!s)return"continue";s.onmouseup=a();for(var r="p a",l=0;l<o.length;l++)r=r+':not([href*="'+o[l]+'"])';for(var c=s.querySelectorAll(""+r),u=0;u<c.length;u++)!function(t){var i=c[t];i.onclick=function(){n.target_text=i.innerText,n.href=i.href,delete n.container_class,delete n.bequeath,delete n.exclude_hrefKeys,e.submitTrack(n)}}(u);r='div[class*="ArticleTipcomponent"] a';for(var d=s.querySelectorAll(""+r),h=0;h<d.length;h++)!function(t){var i=d[t];i.addEventListener("click",function(){n.gaAction="Web - Browising - Click Widget",n.target_text=i.innerText,n.href=i.href,e.submitTrack(n)})}(h)})(n)}for(var s=document.querySelectorAll('[class*="TweetQuotecomponent__Styled"]'),o=0;o<s.length;o++)!function(t){var a=s[t];a.addEventListener("click",function(){var t={Hostname:i[0].hostname,"Page Name":T.name,"Page Title":T.title,Path:T.Path,Text:a.innerText,gaAction:"Web - Browsing - Twitter Share",gaCategory:i[0].gaCategory,gaLabel:"Twitter Share"};e.submitTrack(t)})}(o);for(var r=document.querySelectorAll('[class*="fixed-dl-btn"]'),o=0;o<r.length;o++){r[o].addEventListener("click",function(){var t={Hostname:i[0].hostname,"Page Name":T.name,"Page Title":T.title,Path:T.Path,gaAction:"Web - Browsing - Download",gaCategory:i[0].gaCategory,gaLabel:"Download - "+T.name};e.submitTrack(t)})}},this.trackDownloads=function(t){for(var i=t.apiResults.Click_Site_Event,a=0;a<i.length;a++)!function(t){var a=i[t];if((/(d|D)?ownload/.test(a.ctaType)||/(d|D)?ownload/.test(a.gaLabel))&&/^Web - Browsing - Click Site CTA$/.test(a.gaAction))for(var n=document.querySelectorAll("."+a.class),s=0;s<n.length;s++)n[s].addEventListener("click",function(){e.submitTrack(a)})}(a)},this.trackClickArticles=function(t){for(var i=t.apiResults.Click_Article,a=0;a<i.length;a++)!function(t){for(var a=i[t],n=document.querySelectorAll('[class*="'+a.Class+'"]'),s=0;s<n.length;s++)!function(t){var i=n[t];i.onclick=function(){var t=-1,n=null,s=null,o=null,r=i.querySelectorAll("a");/image/.test(r[0].className)&&++t,2==r.length?s=r[++t]?r[t].innerText.replace(/\n/gi,""):null:(n=r[++t]?r[t].innerText.replace(/\n/gi,""):null,s=r[++t]?r[t].innerText.replace(/\n/gi,""):null,o=r[++t]?r[t].innerText.replace(/\n/gi,""):null);var l=n||"";l=o&&l.length?l+" - "+o:o||"",l=s&&l.length?l+" - "+s:s||"",a.gaLabel=l,n&&(a.category=n),s&&(a.title=s),o&&(a.author=o),delete a.Class,a.page_name=T.name,e.submitTrack(a)}}(s)}(a)},this.findVideosIn=function(i){var a=document.getElementsByTagName("iframe"),n=function(e){var t=[],i=null,a=/wistia/.test(e)?"wistia":/vimeo/.test(e)?"vimeo":"youtube";switch(a){case"wistia":t=[/iframe\/(.*)\?/,/iframe\/(.*)/];break;case"vimeo":t=[/\/video\/(.*)\?/,/\/video\/(.*)/];break;default:t=[/embed\/(.*)\?autoplay/,/embed\/(.*)/]}for(var n=0;n<t.length&&!(i=e.match(t[n]));n++);return{type:a,videoID:i[1]}};a.length||++t>10?setTimeout(function(){for(var e=0;e<a.length;e++){var t=a[e],s=t.src;if(/youtube|vimeo|wistia/.test(s)){var r=n(s),l=r.videoID,c=r.type;void 0===i.videos[l]&&(i.videos[l]=new o(i,t,c,l))}}},350,function(){t=0}):setTimeout(function(){e.findVideosIn(i)},350)}}function s(e,t){var i=this;if(this.el=e,this.trackViewObj=t,"modal"!==this.trackViewObj.location.toLowerCase()||/nao-modal/.test(this.el.className)||this.el.classList.add("escondido"),this.el&&!/pista/.test(this.el.className)){this.el.classList.add("pista"),this.submitDelay=1e3,delete this.trackViewObj.id,delete this.trackViewObj.Order;var a=this.trackViewObj.gaAction,n=a.substr(a.lastIndexOf("View ")+5),s=this.trackViewObj.parallelAction,o=s?s.substr(s.lastIndexOf("View ")+5):null;if(this.trackSubmitObj=JSON.parse(JSON.stringify(this.trackViewObj)),this.viewStepTrackSubmitObj=Object.assign({},this.trackSubmitObj),this.trackSubmitObj.gaAction="Web - Form - Submit "+n,this.trackClickObj=JSON.parse(JSON.stringify(this.trackViewObj)),this.trackClickObj.gaAction="Web - Form - Click "+n+" CTA",this.trackClickObj.successful=!1,this.isHubspot=-1!==this.el.className.indexOf("hs-form"),s&&s.length&&(this.trackSubmitObj.parallelAction="Web - Form - Submit "+(/ENT/.test(o)?"ENT ":"")+"Form",this.viewStepTrackSubmitObj.parallelAction="Web - Form - View "+(/ENT/.test(o)?"ENT ":"")+"Step",this.trackClickObj.parallelAction="Web - Form - Click "+(/ENT/.test(o)?"ENT ":"")+"Form CTA"),this.trackClickObj.steps>1){for(var r=this.el.parentNode,l=null,c=0;c<4&&!(l=r.querySelectorAll("span#count")[0]);c++)r=r.parentNode;l&&this.el.querySelectorAll('input[type="submit"]')[0].addEventListener("click",function(){i.viewStepTrackSubmitObj.step=parseInt(l.innerText),i.viewStepTrackSubmitObj.gaAction="Web - Form - View "+(/ENT/.test(n)?"ENT ":"")+"Step",k.submitTrack(i.viewStepTrackSubmitObj)})}this.isHubspot?(this.el.addEventListener("submit",function(){setTimeout(function(){i.trackClickObj.successful||k.submitTrack(i.trackClickObj)},i.submitDelay)},!0),this.el.addEventListener("hsvalidatedsubmit",function(){u(),i.trackClickObj.successful=!0,k.submitTrack(i.trackClickObj),k.submitTrack(i.trackSubmitObj),setTimeout(function(){k.findFormsIn(T),k.trackDownloads(T)},3e3)})):this.el.addEventListener("submit",function(){u(),T.logMode&&console.log("submit step: 0"),setTimeout(function(){i.el.querySelectorAll("input[class*=error], input[class*=invalid], #password_error.show, .error.show").length?(T.logMode&&console.log("submit step: 1"),k.submitTrack(i.trackClickObj)):(T.logMode&&console.log("submit step: 2"),i.trackClickObj.successful=!0,k.submitTrack(i.trackClickObj),k.submitTrack(i.trackSubmitObj),setTimeout(function(){k.findFormsIn(T),k.trackDownloads(T)},3e3))},i.submitDelay)},!0);var u=function(){for(var e=i.el.querySelectorAll('input:not([type="hidden"]):not([type="submit"]):not([type="password"]), select:not([type="hidden"])'),t=0;t<e.length;t++){var a=e[t],n=h(a.getAttribute("name")||a.getAttribute("id"));i.trackSubmitObj[T.formFieldMap[n]||n]=a.value}}}}function o(e,t,i,a){var n=this,s={wistia:{src:"//fast.wistia.com/assets/external/E-v1.js"},youtube:{src:"//www.youtube.com/iframe_api"},vimeo:{src:"//player.vimeo.com/api/player.js"}},o=function(e){n.currentPercent=Math.ceil(100*e.percent),-1!==n.progress.indexOf(n.currentPercent)||0===n.currentPercent||n.currentPercent>100||(n.progress.push(n.currentPercent),T.logMode&&console.log(n.progress))},r=function(){!n.wasTracked&&n.progress.length>0&&(n.wasTracked=!0,n.trackObj.Percentages=n.progress,n.trackObj.Percentage=n.progress.length,delete n.trackObj.video_id,k.submitTrack(n.trackObj),e.videos={})},l=function e(){var t=d.getCurrentTime(),i=d.getDuration(),a={};a.percent=t/i,n.isPlaying?(o(a),setTimeout(e,350)):n.didEnd&&(d.removeEventListener("onStateChange"),r())};if(T.logMode&&console.log("id "+a+" and type "+i),this.iframe=t,this.type=i,this.id=i+"api",this.videoID=a,this.isPlaying=!1,this.didEnd=!1,this.currentPercent=0,this.progress=[],this.wasTracked=!1,this.trackObj=function(){for(var e={},t=0;t<T.apiResults.Play_Video.length;t++){var i=T.apiResults.Play_Video[t];i.video_id===n.videoID&&(e=i)}return e}(),this.isLoaded=!1,/vimeo/.test(i)&&/api=1/.test(this.iframe.src)&&console.error("remove 'api=1 from vimeo src"),!document.querySelectorAll("head > script[src*='"+this.type+"']").length){var c=document.createElement("script"),u=document.getElementsByTagName("script")[0];c.src=s[this.type].src,c.setAttribute("id",this.id),c.setAttribute("async",!0),u.parentNode.insertBefore(c,u)}var d="youtube"===this.type?new YT.Player(this.iframe):new Vimeo.Player(this.iframe);switch(this.type){case"wistia":this.iframe.classList.add("wistia_embed"),window._wq=window._wq||[],window._wq.push({id:""+this.videoID,onReady:function(e){e.bind("timechange",function(t){o({percent:t/e.duration()})}),e.bind("end",function(){r()})}});break;case"youtube":d.addEventListener("onStateChange",function(e){n.isPlaying=e.data===YT.PlayerState.PLAYING,n.didEnd=e.data===YT.PlayerState.ENDED,l()});break;case"vimeo":if(!/vimeo/.test(this.iframe.src))return;d.ready().then(function(){d.on("timeupdate",function(e){o(e)}),d.on("ended",function(e){r()})})}document.body.onbeforeunload=function(){r()}}function r(){var e=this,t=document.querySelectorAll('script[src*="pistanos"]')[0].src,i=t.match(/api\/(.*)\/pistanos/),s=window.location.pathname;if(this.prodToDev=/pistanos=prodtodev/.test(window.location.search),this.visitRegistered=!1,this.Title=document.title,this.Hostname=window.location.hostname.replace("www.",""),this.Path="/"!==m(s)?s:s.slice(0,-1),this.subpaths=[],this.name="",this.scriptURL=t.indexOf("localhost")>-1?"//localhost:5000":"//pistanos.herokuapp.com",this.category="",this.track_scrolling=null,this.logMode=/log=true/.test(t)&&/mode=dev/.test(t),this.isLive=!/mode=dev/.test(t),this.version=i?tempVersion[1]:null,this.trackObjLoaded=!1,this.leaving=!1,/hostname=/.test(t)){var o=t.match(/hostname=(.*)&/)||t.match(/hostname=(.*)/);if(o&&(this.Hostname=o[1]),/path=/.test(t)){var l=t.match(/path=(.*)&/)||t.match(/path=(.*)/),p=l[1];new RegExp(""+p).test(this.Path)||(this.Path=""+p+("/"!==window.location.pathname?window.location.pathname:""))}this.logMode&&(console.log("custom hostname:","|"+this.Hostname+"|"),console.log("custom path:","|"+this.Path+"|"),console.log("key:",""+this.Hostname+this.Path))}for(var f=this.Path.substring(0,this.Path.lastIndexOf("/")),b=0;f.length&&++b<10;)this.subpaths.push(f),f=f.substring(0,f.lastIndexOf("/"));var _=new RegExp(this.Hostname),y=new RegExp(this.Path);_.test(window.location.hostname)&&y.test(window.location.pathname)&&/mode=dev/.test(t)&&!/www.local.invisionapp.com/.test(window.location.hostname)&&!/www.beta-www.invisionapp.com/.test(window.location.hostname)&&(this.isLive=!0,this.logMode=!1),/log=true/.test(window.location.search)&&this.prodToDev&&(console.log("Production logging override ("+this.Hostname+this.Path+")..."),this.logMode=!0),this.logMode&&console.log("override test: ",_.test(window.location.hostname),y.test(window.location.pathname),/mode=dev/.test(t)),this.clickEvents={},this.ClickArticles={},this.NewFeatures={},this.setupClickables=function(e,t){for(var i in t){var a=t[i];if(a.xpath||a.Target_Link||a.class||a.hrefKey){var n=a.hrefKey?a.hrefKey:a.class?a.class:a.xpath?v(a.xpath):a.Target_Link;e[n]||(e[n]={}),e[n]=a}}},this.forms=[],this.formFieldMap={},this.hubspotEventMap={},this.videos={},this.modals={},this.scrollPercent=0,this.pageVisit=function(){e.visitRegistered||(e.visitRegistered=!0,delete e.apiResults.Visit_Page[0].dev_seg,delete e.apiResults.Visit_Page[0].prod_seg,delete e.apiResults.Visit_Page[0].dev_ga,delete e.apiResults.Visit_Page[0].prod_ga,k.submitTrack(e.apiResults.Visit_Page[0]),ga("secondTracker.send",{hitType:"pageview",title:T.Title,page:T.Path}),S())};var P=function(){window.addEventListener("scroll",function(){if(1===e.track_scrolling){var t=Math.floor(window.pageYOffset/(document.body.scrollHeight-window.innerHeight)*100);t>T.scrollPercent&&(e.scrollPercent=t)}k.findFormsIn(e)})},E=function(){window.addEventListener("resize",function(){k.findFormsIn(e)})},S=function(){var e=window.location.pathname;!function t(){setTimeout(function(){var i=document.querySelector("head > title");if(i){new MutationObserver(function(t){t.forEach(function(t){T.Title===document.title||e===window.location.pathname||c||(c=!0,T.leaving||O(),setTimeout(function(){w=new a,k=new n,T=new r},300),setTimeout(function(){c=!1},1e3))})}).observe(i,{subtree:!0,characterData:!0,childList:!0})}else t()},300)}()},R=function(e){var t={key:null,modal:null};return e.modal_id?(t.key=e.modal_id,t.modal=document.getElementById(key)):e.modal_class?(t.key=e.modal_class,t.modal=document.querySelectorAll("."+key)[0]):(t.key=e.xpath,t.modal=g(e.xpath)),t};this.trackModals=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];setTimeout(function(){for(var t in e){var i=e[t],a=R(i),n=a.modal?a.modal.querySelector("form"):null;void 0===T.modals[a.key]&&(T.modals[a.key]={modal:null,open:!1}),n&&n.classList.add("escondido"),a.modal&&!T.modals[a.key].open&&/open|visible|show|\bon\b/.test(a.modal.className)?(T.modals[a.key].open=!0,T.modals[a.key].modal=a.modal,i.gaAction=i.gaAction.replace("Closed","Opened"),n&&(n.classList.add("nao-modal"),n.classList.remove("escondido")),k.submitTrack(i),k.findFormsIn(T),a.modal.addEventListener("scroll",function(){k.findFormsIn(T)})):!T.modals[a.key].open||a.modal&&/open|visible|show|on /.test(a.modal.className)||(T.modals[a.key].open=!1,i.gaAction=i.gaAction.replace("Opened","Closed"),k.submitTrack(i))}},t?0:600)},this.init=function(){var t=0;e.name=e.apiResults.Visit_Page[0].page_name,e.category=e.apiResults.Visit_Page[0].gaCategory,e.track_scrolling=e.apiResults.Visit_Page[0].track_scrolling,delete e.apiResults.Visit_Page[0].track_scrolling,e.pageVisit();var i=function i(){setTimeout(function(){!Object.getOwnPropertyNames(T.modals).length&&++t<30?(e.trackModals(e.apiResults.Modal_Opened),i()):(P(),E(),setTimeout(function(){T.trackModals(T.apiResults.Modal_Opened,!1)},2e3))},500)};!function t(){setTimeout(function(){/complete/.test(document.readyState)?(e.apiResults.Modal_Opened?i():(P(),E()),e.apiResults.View_Form&&k.findFormsIn(e),e.apiResults.Search_Site_Event&&k.trackSearch(e),e.apiResults.Play_Video&&k.findVideosIn(e),e.apiResults.Click_Inline_CTA&&k.clickInlineCTA(e),e.apiResults.Click_Site_Event&&k.trackDownloads(e),e.apiResults.Click_Article&&k.trackClickArticles(e)):t()},300)}()};var C=function(t,i){i||(i={});for(var a=0;a<e.subpaths.length;a++){var n=e.subpaths[a],s=t[""+e.Hostname+n];for(var o in s)if(s.hasOwnProperty(o))for(var r=s[o],l=0;l<r.length;l++){var c=r[l];if(c.bequeath){var u=window.location.pathname.slice(1).replace(/-|\//g," ");u=h(u),c.Path=e.Path,c.page_title=document.title,c.page_name=c.page_name+" - "+u,c.inherited_event_from=n,delete c.bequeath,"Visit_Page"===o&&(c.gaLabel=c.page_name),i[o]?i[o].push(c):i[o]=[c]}}}return i};this.apiResults={};var A=new XMLHttpRequest;A.open("GET","https://s3.amazonaws.com/pistanos/pistanos.json"),A.onreadystatechange=function(){if(4===A.readyState)try{if(!(A.status>=200&&A.status<300))throw new Error(A.responseText);var e=JSON.parse(A.responseText);w=new a,"invisionapp.com"===this.Hostname&&""===this.Path&&(this.Path="/"),this.apiResults=e[""+this.Hostname+this.Path]||e[this.Title+" - "+this.Path],this.formFieldMap=e["Form Fields"],this.hubspotEventMap=e["Hubspot Customization"],this.apiResults=C(e,this.apiResults),u(),d(),this.logMode&&(console.log(e),console.log(this.apiResults)),this.trackObjLoaded=!0,this.apiResults&&this.init()}catch(e){console.error("parsing failed",e)}}.bind(this),A.send()}var l=function(){var e=window.navigator.userAgent,t=e.indexOf("MSIE "),i=e.indexOf("Trident/");return t>0||i>0}(),c=!1,u=function(){if(!document.querySelectorAll('script[src*="cdn.segment.com/analytics.js"]').length){var e=T.apiResults&&T.apiResults.Visit_Page&&T.apiResults.Visit_Page[0].prod_seg&&T.apiResults.Visit_Page[0].prod_seg.length?T.apiResults.Visit_Page[0].prod_seg:"Kh9KSyCpznuWucjEn7EXeV1g4FG15X07",t=T.apiResults&&T.apiResults.Visit_Page&&T.apiResults.Visit_Page[0].dev_seg&&T.apiResults.Visit_Page[0].dev_seg.length?T.apiResults.Visit_Page[0].dev_seg:"llMxDgbn9mtjQ99XHVZBuBThgnXnHFI5",i=T.isLive&&!T.prodToDev?e:t,a=window.analytics=window.analytics||[];if(!a.initialize)if(a.invoked)window.console&&console.error&&console.error("Segment snippet included twice.");else{a.invoked=!0,a.methods=["trackSubmit","trackClick","trackLink","trackForm","pageview","identify","reset","group","track","ready","alias","debug","user","page","once","off","on"],a.factory=function(e){return function(){var t=Array.prototype.slice.call(arguments);return t.unshift(e),a.push(t),a}};for(var n=0;n<a.methods.length;n++){var s=a.methods[n];a[s]=a.factory(s)}a.load=function(e){var t=document.createElement("script");t.type="text/javascript",t.async=!0,t.onload=function(){return window.analytics.user().id()===window.atob(null)&&window.analytics.reset()},t.src=("https:"===document.location.protocol?"https://":"http://")+"cdn.segment.com/analytics.js/v1/"+e+"/analytics.min.js";var i=document.getElementsByTagName("script")[0];i.parentNode.insertBefore(t,i)},a.SNIPPET_VERSION="4.0.0",a.load(i)}}},d=function(){!function(e,t,i,a,n,s,o){e.GoogleAnalyticsObject=n,e[n]=e[n]||function(){(e[n].q=e[n].q||[]).push(arguments)},e[n].l=1*new Date,s=t.createElement(i),o=t.getElementsByTagName(i)[0],s.async=1,s.src="//www.google-analytics.com/analytics.js",o.parentNode.insertBefore(s,o)}(window,document,"script",0,"ga");var e=T.apiResults&&T.apiResults.Visit_Page&&T.apiResults.Visit_Page[0].prod_ga&&T.apiResults.Visit_Page[0].prod_ga.length?T.apiResults.Visit_Page[0].prod_ga:"UA-24306919-2",t=T.apiResults&&T.apiResults.Visit_Page&&T.apiResults.Visit_Page[0].dev_ga&&T.apiResults.Visit_Page[0].dev_ga.length?T.apiResults.Visit_Page[0].dev_ga:"UA-24306919-13",i=T.isLive&&!T.prodToDev?e:t,a=T.isLive?"auto":"none";ga("create",i,a,{name:"secondTracker"})},h=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},p=function(e){return e.replace(/\w\S*/g,function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()})},m=function(e){return e.charAt(e.length-1)},g=function(e){return l?document.querySelectorAll(A(e))[0]:document.evaluate(e,document,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue},f=function e(t){if(!t)return null;if("HTML"==t.tagName)return"/HTML[1]";if(t===document.body)return"/HTML[1]/BODY[1]";for(var i=0,a=t.parentNode.childNodes,n=0;n<a.length;n++){var s=a[n];if(s===t)return e(t.parentNode)+"/"+t.tagName+"["+(i+1)+"]";1===s.nodeType&&s.tagName===t.tagName&&i++}},v=function(e){return f(g(e))},b=function(e){for(var t=e+"=",i=decodeURIComponent(document.cookie),a=i.split(";"),n=0;n<a.length;n++){for(var s=a[n];" "==s.charAt(0);)s=s.substring(1);if(0==s.indexOf(t))return s.substring(t.length,s.length)}return""},w=null,k=new n,T=new r,_=function e(t,i){return null===i||/BODY/.test(i.nodeName)?null:i.nodeName===t?i:e(t,i.parentNode)},y=function(e){for(var t=e.className.split(" "),i=0;i<t.length;i++){var a=t[i],n=T.clickEvents[a];if(n)return n}return null},P=function(e){var t=e.href;for(var i in T.clickEvents){var a=/HTML[1]/.test(i)?i:i.replace(/\//g,"\\/"),n=new RegExp(""+a),s=new RegExp(a+"$");if(n.test(t)&&!s.test(t))return T.clickEvents[i]}return null},E=function(e){T.apiResults.Play_Video&&k.findVideosIn(T),T.apiResults.View_Form&&k.findFormsIn(T),T.apiResults.Modal_Opened&&T.trackModals(T.apiResults.Modal_Opened,!1);var t=_("A",e.target)||_("LI",e.target)||_("BUTTON",e.target);if(t){T.setupClickables(T.clickEvents,T.apiResults.Click_Site_Event),T.setupClickables(T.ClickArticles,T.apiResults.Click_Article);var i=!1,a=P(t)||y(t),n=void 0!==t.href?t.href.replace(window.location.origin,""):"";if(a){var s=Object.assign({},a),o=h(t.innerText.toLowerCase()).replace(/\n/gi,"");s.Target_Link=t.href,s.Target_Text.length||(s.gaLabel=s.gaLabel+" - "+o),s.ctaType=s.gaLabel,k.submitTrack(s)}else if(T.apiResults.Click_Site_Event&&(T.clickEvents[f(t)]||T.clickEvents[n])){var r=T.clickEvents[f(t)]||T.clickEvents[n],l=Object.assign({},r);l.hrefKey||(k.submitTrack(l),i=!0)}else if(T.apiResults.Click_Article&&T.ClickArticles[f(t)]){var c=Object.assign({},T.ClickArticles[f(t)]);k.submitTrack(c),i=!0}else if(T.apiResults.Click_Share_Button)for(var u=0;u<T.apiResults.Click_Share_Button.length;u++){var d=T.apiResults.Click_Share_Button[u],p=v(d.xpath);-1!==f(t).replace(/\/A\[(.*)\]/g,"").indexOf(p)&&(d.Share_Type=/facebook/.test(t.href)||/(F|f)acebook/.test(t.innerHTML)?"Facebook":/twitter/.test(t.href)||/(T|t)witter/.test(t.innerHTML)?"Twitter":/linkedin/.test(t.href)||/(L|l)inkedin/.test(t.innerHTML)?"Linkedin":/slack/.test(t.href)||/(S|s)lack/.test(t.innerHTML)?"Slack":"Other",d.gaLabel=d.Share_Type+" - "+d.location,delete d.Parent_class,k.submitTrack(d),i=!0)}if(i)return!0;if(T.apiResults.Click_Nav)for(var m=document.getElementsByTagName("NAV")[0],g=m?f(m):null,b=0;b<T.apiResults.Click_Nav.length&&!i;b++){var w=T.apiResults.Click_Nav[b],E=v(w.xpath)||v(g);if(-1!==f(t).replace(/\/A\[(.*)\]/g,"").indexOf(E))if(/\//.test(t.href))w.Target_Text=""===t.innerText||void 0===t.innerText?"Home":t.innerText,w.gaLabel=w.gaLabel?w.gaLabel:w.Target_Text,w.page_name=T.name,k.submitTrack(w),i=!0;else if(!/javascript|void\(0\)/.test(t.href)){if(/search/.test(t.id))break;w.Target_Text=t.innerText.replace(/ |\n/g,""),w.Target_Text=w.Target_Text.replace(/([a-z])([A-Z])/g,"$1 $2"),w.gaLabel=void 0!==w.location?w.Target_Text+" - "+w.location:""+w.Target_Text,w.page_name=T.name,k.submitTrack(w),i=!0}}}};!function(){window.addEventListener("load",function(){document.body.addEventListener("click",E),document.body.onbeforeunload=function(){T.leaving||O()}})}();var O=function(){w.clockTimeSpent(),T.track_scrolling&&k.submitTrack({Hostname:T.Hostname,Path:T.Path,"Page Title":T.Title,"Page Name":T.name,Percentage:T.scrollPercent,gaAction:"Web - Browsing - Read Long Form Content",gaCategory:T.category,gaLabel:T.name}),T.leaving=!0},S=function(e){return void 0!==e&&""!==e.replace(/[\s-_=]/g,"")&&e.length===e.replace(/[-_\w:.]+\(\)\s*=|=\s*[-_\w:.]+\(\)|\sor\s|\sand\s|\[(?:[^\/\]]+[\/\[]\/?.+)+\]|starts-with\(|\[.*last\(\)\s*[-\+<>=].+\]|number\(\)|not\(|count\(|text\(|first\(|normalize-space|[^\/]following-sibling|concat\(|descendant::|parent::|self::|child::|/gi,"").length},R=function(){var e="(?P<node>(^id\\([\"\\']?(?P<idvalue>%(value)s)[\"\\']?\\)|(?P<nav>//?(?:following-sibling::)?)(?P<tag>%(tag)s)(\\[((?P<matched>(?P<mattr>@?%(attribute)s=[\"\\'](?P<mvalue>%(value)s))[\"\\']|(?P<contained>contains\\((?P<cattr>@?%(attribute)s,\\s*[\"\\'](?P<cvalue>%(value)s)[\"\\']\\)))\\])?(\\[\\s*(?P<nth>\\d|last\\(\\s*\\))\\s*\\])?))",t={tag:"([a-zA-Z][a-zA-Z0-9]{0,10}|\\*)",attribute:"[.a-zA-Z_:][-\\w:.]*(\\(\\))?)",value:"\\s*[\\w/:][-/\\w\\s,:;.]*"};return Object.keys(t).forEach(function(i){e=e.replace(new RegExp("%\\("+i+"\\)s","gi"),t[i])}),e=e.replace(/\?P<node>|\?P<idvalue>|\?P<nav>|\?P<tag>|\?P<matched>|\?P<mattr>|\?P<mvalue>|\?P<contained>|\?P<cattr>|\?P<cvalue>|\?P<nth>/gi,""),new RegExp(e,"gi")},C=function(e){return e.replace(/contains\s*\(\s*concat\(["']\s+["']\s*,\s*@class\s*,\s*["']\s+["']\)\s*,\s*["']\s+([a-zA-Z0-9-_]+)\s+["']\)/gi,'@class="$1"')},A=function(e){if(!e)throw new Error("Missing XPath expression");if(e=C(e),!S(e))throw new Error("Invalid or unsupported XPath: "+e);for(var t=e.split("|"),i=R(),a=[],n=0;t[n];){for(var s=[],o=void 0,r=0;o=i.exec(t[n]);){var l=void 0;if(!o&&0===r)throw new Error("Invalid or unsupported XPath: "+e);var c={node:o[5],idvalue:o[12]||o[3],nav:o[4],tag:o[5],matched:o[7],mattr:o[10]||o[14],mvalue:o[12]||o[16],contained:o[13],cattr:o[14],cvalue:o[16],nth:o[18]},u="";0!=r&&c.nav&&(u=~c.nav.indexOf("following-sibling::")?" + ":"//"==c.nav?" ":" > ");var d="*"===c.tag?"":c.tag||"";if(c.contained){if(0!==c.cattr.indexOf("@"))throw new Error("Invalid or unsupported XPath attribute: "+c.cattr);l="["+c.cattr.replace(/^@/,"")+"*="+c.cvalue+"]"}else if(c.matched)switch(c.mattr){case"@id":l="#"+c.mvalue.replace(/^\s+|\s+$/,"").replace(/\s/g,"#");break;case"@class":l="."+c.mvalue.replace(/^\s+|\s+$/,"").replace(/\s/g,".");break;case"text()":case".":throw new Error("Invalid or unsupported XPath attribute: "+c.mattr);default:if(0!==c.mattr.indexOf("@"))throw new Error("Invalid or unsupported XPath attribute: "+c.mattr);-1!==c.mvalue.indexOf(" ")&&(c.mvalue='"'+c.mvalue.replace(/^\s+|\s+$/,"")+'"'),l="["+c.mattr.replace("@","")+"="+c.mvalue+"]"}else l=c.idvalue?"#"+c.idvalue.replace(/\s/,"#"):"";var h="";if(c.nth)if(-1===c.nth.indexOf("last")){if(isNaN(parseInt(c.nth,10)))throw new Error("Invalid or unsupported XPath attribute: "+c.nth);h=1!==parseInt(c.nth,10)?":nth-of-type("+c.nth+")":":first-of-type"}else h=":last-of-type";s.push(u+d+l+h),r++}var p=s.join("");if(""===p)throw new Error("Invalid or unsupported XPath");a.push(p),n++}return a.join(", ")}}]);