(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{189:function(e,t,n){e.exports=n.p+"static/media/logo.faabf044.png"},261:function(e,t,n){e.exports=n(477)},266:function(e,t,n){},268:function(e,t,n){},417:function(e,t,n){},440:function(e,t,n){},469:function(e,t,n){},471:function(e,t,n){},475:function(e,t,n){},477:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(23),c=n.n(i),l=(n(266),n(7)),s=n(8),o=n(10),u=n(9),m=n(11),h=(n(268),n(480)),p=n(34),d=n.n(p),f=function e(){var t=this;Object(l.a)(this,e),this.signup=function(e,n,a,r,i){return t.service.post("/signup",{username:e,password:n,email:a,host:r,musician:i}).then(function(e){return e.data})},this.login=function(e,n){return t.service.post("/login",{username:e,password:n}).then(function(e){return e.data})},this.logout=function(){return t.service.get("/logout",{}).then(function(e){return e.data})},this.loggedin=function(){return t.service.get("/loggedin").then(function(e){return e.data})},this.edit=function(e,n,a,r){return t.service.post("/edit",{username:e,email:n,host:a,musician:r}).then(function(e){return e.data})};var n=d.a.create({baseURL:"".concat("https://serendipity-project.herokuapp.com/","/auth"),withCredentials:!0});this.service=n},g=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(o.a)(this,Object(u.a)(t).call(this,e))).auth=new f,n.state={loading:!0,toLogin:!1,toHome:!1,user:{}},n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.auth.loggedin().then(function(t){e.setState({loading:!1,user:t})}).catch(function(t){e.setState({loading:!1,toLogin:!0})})}},{key:"render",value:function(){var e=this.state,t=e.user,n=e.loading,a=e.toLogin;e.toHome;return n?r.a.createElement("div",null,"Loading..."):a?r.a.createElement(h.a,{to:"/register"}):t?this.props.children(this.state.user):void 0}}]),t}(a.Component),v=n(478),E=n(88),b=n.n(E),y=n(89),C=n.n(y),j=n(15),O=n.n(j),k=n(481),D=n(177),S=n(27),w=n.n(S),I=function(e){function t(e){var n;return Object(l.a)(this,t),n=Object(o.a)(this,Object(u.a)(t).call(this,e)),console.log(n.props),n.authService=new f,n.state={user:null},n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.authService.loggedin().then(function(t){e.setState(Object(D.a)({},e.state,{user:t})),console.log(t)}).catch(function(e){return console.log(e)})}},{key:"render",value:function(){var e=this.props.routename;return this.state.user?r.a.createElement(r.a.Fragment,null,r.a.createElement(w.a,{variant:"h6",color:"inherit"},"this is the ".concat(e)),r.a.createElement("div",null,r.a.createElement("h1",null," Profile Details "),r.a.createElement("p",null,r.a.createElement("span",null,"Username: "),this.state.user.username),r.a.createElement("p",null,r.a.createElement("span",null,"Email: "),this.state.user.email),r.a.createElement(v.a,{to:"/edit-profile"},r.a.createElement("button",null,"Edit Profile")))):r.a.createElement("h1",null,"No logedin")}}]),t}(a.Component),x=n(72),P=n(26),A=n(3),N=function e(t){var n=this;Object(l.a)(this,e),this.new=function(e,t){return n.service.post("/new/".concat(e),{hostPlaceID:t}).then(function(e){return e.data})},this.delete=function(e){return n.service.get("/".concat(e,"/delete"),{}).then(function(e){return e.data})},this.getOne=function(e){return n.service.get("/".concat(e),{}).then(function(e){return e.data})},this.getAll=function(e){return n.service.get("/all/".concat(e),{}).then(function(e){return e.data})},this.service=d.a.create({baseURL:"".concat("https://serendipity-project.herokuapp.com/","/requests"),withCredentials:!0})},q=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(o.a)(this,Object(u.a)(t).call(this,e))).sendRequest=function(){console.log(n.state.placeID),n.service.new(n.props.user.musicianID,n.props.placeID).then(function(e){return console.log(e)}).catch(function(e){return console.log(e)})},n.state={user:{},placeID:null},n.service=new N,n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.setState({user:this.props.user,placeID:this.props.placeID})}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(A.a,{onClick:this.sendRequest,variant:"contained",color:"primary",type:"submit",value:"Submit"},"Request"))}}]),t}(a.Component),T=(n(417),function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(o.a)(this,Object(u.a)(t).call(this,e))).beautifyDate=function(e){return new Date(e).toDateString()},n.state={user:null},n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.setState({user:this.props.user})}},{key:"render",value:function(){var e=this,t=this.props.places||[];return this.props.place&&t.push(this.props.place),r.a.createElement("div",{className:"host-places-cards-container"},t.map(function(t,n){return r.a.createElement(A.b,{key:n,className:"card-host-place"},r.a.createElement("h3",null,t.placeName),r.a.createElement("h4",null,t.address),r.a.createElement("h4",null,t.initialTime,"h"),r.a.createElement("h4",null,t.finishingTime,"h"),r.a.createElement("h4",null,"Date: ",e.beautifyDate(t.date)),r.a.createElement("div",{className:"numbers-container"},r.a.createElement("span",{className:"number"},t.capacity," "),r.a.createElement("span",null,"CAPACITY"),r.a.createElement("span",{className:"number"},t.price," "),r.a.createElement("span",null,"PRICE")),e.props.user.musician&&r.a.createElement(q,{user:e.props.user,placeID:t._id}))}))}}]),t}(a.Component)),F=function e(t){var n=this;Object(l.a)(this,e),this.new=function(e,t,a,r,i,c,l,s,o,u){return n.service.post("/new",{hostID:e,address:t,date:a,initialTime:r,finishingTime:i,price:c,capacity:l,location:s,placeName:o,hostPlaceID:u}).then(function(e){return e.data})},this.edit=function(e,t,a,r,i,c,l,s,o){return n.service.post("/".concat(e,"/edit"),{address:t,date:a,initialTime:r,finishingTime:i,price:c,capacity:l,location:s,placeName:o}).then(function(e){return e.data})},this.availability=function(e,t){return n.service.post("/".concat(e,"/availability"),{availability:t}).then(function(e){return e.data})},this.delete=function(e){return n.service.get("/".concat(e,"/delete"),{}).then(function(e){return e.data})},this.filter=function(e){return n.service.get("/filtered",{date:e}).then(function(e){return e.data})},this.getOne=function(e){return n.service.get("/".concat(e),{}).then(function(e){return e.data})},this.getAll=function(){return n.service.get("/all",{}).then(function(e){return e.data})},this.service=d.a.create({baseURL:"".concat("https://serendipity-project.herokuapp.com/","/host-place"),withCredentials:!0})},R=n(28),M=n.n(R),L=n(179),G=n.n(L),_=(n(440),n(190)),Y=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(o.a)(this,Object(u.a)(t).call(this,e))).handleFormSubmit=function(e){console.log(e),e.preventDefault();var t=n.state,a=t.hostID,r=t.address,i=t.date,c=t.initialTime,l=t.finishingTime,s=t.price,o=t.capacity,u=t.location,m=t.placeName,h=t.availability,p=t.concertRequest;n.service.new(a,r,i,c,l,s,o,u,m,h,p).then(function(e){console.log(e),n.setState({hostID:"",address:"",date:"",initialTime:"",finishingTime:"",price:"",capacity:"",location:{latitude:0,longitude:0},placeName:"",redirect:!0,clean:!0},function(){n.props.update()})}).catch(function(e){return console.log(e)})},n.handleChange=function(e){var t=e.target,a=t.name,r=t.value;n.setState(Object(P.a)({},a,r))},n._suggestionSelect=function(e,t,a,r){console.log(n.state,"dentro del geocoder"),console.log(e,t,a,r),n.state.location.latitude=parseFloat(t),n.state.location.longitude=parseFloat(a),n.state.address=e},n.onChangeDate=function(e){n.setState({date:e})},n.state={hostID:"",address:"",date:"",initialTime:"",finishingTime:"",price:"",capacity:"",location:{latitude:0,longitude:0},placeName:"",availability:"",concertRequest:"",redirect:!1,clean:!1},n.service=new F,n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.state.hostID=this.props.user._id,console.log(this.state.hostID)}},{key:"render",value:function(){return r.a.createElement("div",{className:"form-host-place-box"},r.a.createElement("h1",null,"Add your nice Place for a concert"),r.a.createElement("form",{onSubmit:this.handleFormSubmit,className:"form-add-host-place"},r.a.createElement(G.a,{publicKey:"pk.eyJ1IjoiZGRpZXpyIiwiYSI6ImNqb3ZuMGZ3cjFqa2YzcWxrYjBtNjJzaG4ifQ.cCFZkl39Hov3D-Ujeq74Cg",inputClass:"search-input",type:"search",onSuggestionSelect:this._suggestionSelect,country:"es",resetSearch:!1}),r.a.createElement(M.a,{placeholder:"Address",type:"text",name:"address",value:this.state.address,onChange:this.handleChange}),r.a.createElement(_.a,{type:"date",name:"date",value:this.state.date,onChange:this.onChangeDate,autoOk:!0}),r.a.createElement(M.a,{label:"Starting Time",type:"time",name:"initialTime",value:this.state.initialTime,onChange:this.handleChange,InputLabelProps:{shrink:!0}}),r.a.createElement(M.a,{label:"Finishing Time",type:"time",name:"finishingTime",value:this.state.finishingTime,onChange:this.handleChange,InputLabelProps:{shrink:!0}}),r.a.createElement(M.a,{placeholder:"Price \u20ac/per person",type:"text",name:"price",value:this.state.price,onChange:this.handleChange}),r.a.createElement(M.a,{placeholder:"Capacity",type:"number",name:"capacity",value:this.state.capacity,onChange:this.handleChange}),r.a.createElement(M.a,{fullWidth:!0,placeholder:"Name",type:"text",name:"placeName",value:this.state.placeName,onChange:this.handleChange}),r.a.createElement(O.a,{variant:"contained",color:"primary",type:"submit",value:"Submit"},"Create Host Place")))}}]),t}(a.Component),U=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(o.a)(this,Object(u.a)(t).call(this,e))).getAllPlaces=function(){n.service.getAll().then(function(e){n.setState({listOfPlaces:e.hostPlace,listCopy:e.hostPlace})}).catch(function(e){return console.log(e)})},n.getOnePlace=function(e){n.service.getOne(e).then(function(e){console.log(e),n.setState({myPlace:e.hostPlace})})},n.filterDate=function(e){e.preventDefault();var t=e.target,a=t.name,r=t.value;n.setState(Object(P.a)({},a,r));var i=Object(x.a)(n.state.listOfPlaces).filter(function(t){return t.date.includes(e.target.value)||t.address.includes(e.target.value)});n.setState({listCopy:i})},n.filterCity=function(e){e.preventDefault(),n.state.listCopy=n.state.listOfPlaces;var t=n.state,a=t.listCopy,r=t.queryCity,i=a.filter(function(e){return e.address.includes(r)});n.setState({listCopy:i})},n.state={user:null,listOfPlaces:null,listCopy:null,queryDate:"",queryCity:""},n.service=new F,n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.getAllPlaces(),this.getOnePlace(this.props.user._id),this.setState({user:this.props.user})}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,this.props.user.musician&&r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"Search by..."),r.a.createElement("form",null,r.a.createElement(A.j,{name:"queryDate",value:this.state.queryDate,type:"date",onChange:this.filterDate,label:"Date",InputLabelProps:{shrink:!0}}),r.a.createElement(A.j,{value:this.state.queryCity,name:"queryCity",type:"text",onChange:this.filterDate,placeholder:"City"}))),this.props.user.musician&&r.a.createElement(T,{places:this.state.listCopy,user:this.props.user}),this.props.user.host&&r.a.createElement(T,{place:this.state.myPlace,user:this.props.user}),this.props.user.host&&r.a.createElement(Y,{update:this.getAllPlaces,user:this.props.user}))}}]),t}(a.Component),H=n(184),Z=n(73),J=function e(t){var n=this;Object(l.a)(this,e),this.new=function(e,t){return n.service.post("/new/".concat(e,"/").concat(t)).then(function(e){return e.data})},this.setCapacity=function(e){return n.service.post("/set-capacity",{capacity:e}).then(function(e){return e.data})},this.going=function(e,t){return n.service.post("/".concat(e,"/going")).then(function(e){return e.data})},this.notGoing=function(e,t){return n.service.post("/".concat(e,"/not-going")).then(function(e){return e.data})},this.getOne=function(e){return n.service.get("/".concat(e),{}).then(function(e){return e.data})},this.getAll=function(){return n.service.get("/all",{}).then(function(e){return e.data})},this.delete=function(e){return n.service.get("/".concat(e,"/delete"),{}).then(function(e){return e.data})},this.service=d.a.create({baseURL:"".concat("https://serendipity-project.herokuapp.com/","/concerts"),withCredentials:!0})},z=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={city:""},n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("form",null,r.a.createElement("label",null,"Ciudad"),r.a.createElement("input",{onChange:function(t){return e.props.filter(t)}}))}}]),t}(a.Component),W=n(121);function B(){var e=Object(H.a)(["\n  background: white;\n  color: #3f618c;\n  font-weight: 400;\n  padding: 5px;\n  border-radius: 2px;\n"]);return B=function(){return e},e}var K=Object(Z.d)({accessToken:"pk.eyJ1IjoiZGRpZXpyIiwiYSI6ImNqb3ZuMGZ3cjFqa2YzcWxrYjBtNjJzaG4ifQ.cCFZkl39Hov3D-Ujeq74Cg"}),Q=[10],X={height:"100vh",width:"100vw",display:"flex"},$="mapbox://styles/mapbox/dark-v9",V=[-3.70379,40.416775],ee=W.a.div(B()),te=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(o.a)(this,Object(u.a)(t).call(this,e))).filterConcerts=function(e){console.log(e.target.value,"---------------");var t=Object(x.a)(n.state.allConcerts).filter(function(t){return t.hostID.address.includes(e.target.value)});n.setState({filteredConcerts:t})},n.markerClick=function(e,t){console.log(e,"DENTRO DE MARKER CLICK"),n.setState({concert:e})},n.onClickGoingConcert=function(e){n.service.going(n.state.concert._id).then(function(e){console.log(e.concert),n.setState({concert:e.concert})}).catch(function(e){return console.log(e)})},n.onClickNotGoingConcert=function(e){n.service.notGoing(n.state.concert._id).then(function(e){console.log(e.concert),n.setState({concert:e.concert})}).catch(function(e){return console.log(e)})},n.state={allConcerts:null,filteredConcerts:[],concert:null},n.service=new J,n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.service.getAll().then(function(t){console.log(t),e.setState({allConcerts:Object(x.a)(t)})}).catch(function(e){return console.log(e)})}},{key:"render",value:function(){var e=this,t=this.state.concert;return this.state.allConcerts||this.state.filteredConcerts?r.a.createElement(r.a.Fragment,null,r.a.createElement(z,{filter:this.filterConcerts}),r.a.createElement(K,{style:$,zoom:Q,containerStyle:X,center:V},r.a.createElement(Z.b,{type:"symbol",id:"marker",layout:{"icon-image":"marker-15"}},this.state.filteredConcerts.map(function(t){return r.a.createElement(Z.a,{key:t,coordinates:[t.hostID.location.longitude,t.hostID.location.latitude],onClick:e.markerClick.bind(e,t)})})),null!==t&&r.a.createElement(Z.c,{key:t.availability,coordinates:[t.hostID.location.longitude,t.hostID.location.latitude]},r.a.createElement(ee,null,r.a.createElement("div",null,r.a.createElement("h1",null,"Concert Place in ",t.hostID.placeName),r.a.createElement("p",null,"Capacidad:",t.capacity),r.a.createElement("p",null,t.hostID.price),r.a.createElement("p",null,t.hostID.address),r.a.createElement("p",null,t.hostID.date),r.a.createElement("p",null,t.hostID.finishingTime),r.a.createElement("p",null,t.hostID.initialTime)),r.a.createElement("div",null,r.a.createElement("h1",null,t.musicianID.artistData),r.a.createElement("a",{href:t.musicianID.musicTrack},"Music Track"),r.a.createElement("img",{src:t.musicianID.image}),r.a.createElement("p",null,t.musicianID.artistData),r.a.createElement("p",null,t.musicianID.instruments[0])),r.a.createElement("div",null,r.a.createElement("button",{className:"btn-go-concert",onClick:this.onClickGoingConcert},"+"),r.a.createElement("button",{className:"btn-go-concert",onClick:this.onClickNotGoingConcert},"-")))))):r.a.createElement("p",null,"Loading map...")}}]),t}(a.Component),ne=function(){function e(t){var n=this;Object(l.a)(this,e),this.new=function(e){var t=new FormData;return Object.keys(e).forEach(function(n){return t.append(n,e[n])}),n.service.post("/new",t,{headers:{"Content-Type":"multipart/form-data"}}).then(function(e){return e.data})},this.edit=function(e,t,a,r,i,c,l,s,o,u,m,h){return n.service.post("/".concat(e,"/edit"),{artistData:t,email:a,originCity:r,musicStyle:i,artistDescription:c,instruments:l,favouritePlayCity:s,musicTrack:o,spotifyAccount:u,youtubeAccount:m,image:h}).then(function(e){return e.data})},this.delete=function(e){return n.service.get("/".concat(e,"/delete"),{}).then(function(e){return e.data})},this.getOne=function(e){return n.service.get("/".concat(e),{}).then(function(e){return e.data})},this.getAll=function(){return n.service.get("/all").then(function(e){return e.data})},this.service=d.a.create({baseURL:"".concat("https://serendipity-project.herokuapp.com/","/musician"),withCredentials:!0})}return Object(s.a)(e,[{key:"addPicture",value:function(e){var t=new FormData;return t.append("image",e),this.service.post("/new",t,{headers:{"Content-Type":"multipart/form-data"}}).then(function(e){return e.data})}}]),e}(),ae=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(o.a)(this,Object(u.a)(t).call(this,e))).handleFormSubmit=function(e){e.preventDefault();var t=n.state,a=t.artistData,r=t.email,i=t.originCity,c=t.musicStyle,l=t.artistDescription,s=t.instruments,o=t.favouritePlayCity,u=t.musicTrack,m=t.spotifyAccount,h=t.youtubeAccount,p=t.image,d=t.file;console.log(d),n.service.new({artistData:a,email:r,originCity:i,musicStyle:c,artistDescription:l,instruments:s,favouritePlayCity:o,musicTrack:u,spotifyAccount:m,youtubeAccount:h,image:p,file:d}).then(function(e){n.setState({artistData:"",email:"",originCity:"",musicStyle:"",artistDescription:"",instruments:"",favouritePlayCity:"",musicTrack:"",spotifyAccount:"",youtubeAccount:"",image:"",file:null,redirect:!0},function(){n.props.update()})}).catch(function(e){return console.log(e)})},n.handleChange=function(e){var t=e.target,a=t.name,r=t.value;n.setState(Object(P.a)({},a,r))},n.handleChangeImage=function(e){n.setState({file:e.target.files[0]}),console.log(e.target.files[0])},n.state={user:{},artistData:"",email:"",originCity:"",musicStyle:"",artistDescription:"",instruments:"",favouritePlayCity:"",musicTrack:"",spotifyAccount:"",youtubeAccount:"",image:"",file:null,redirect:!1},n.service=new ne,n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"Musician's Information"),r.a.createElement("form",{onSubmit:this.handleFormSubmit},r.a.createElement(A.g,null,r.a.createElement(A.g,{item:!0},r.a.createElement(A.j,{placeholder:"Artist Name",text:"text",name:"artistData",value:this.state.artistData,onChange:this.handleChange})),r.a.createElement(A.g,{item:!0},r.a.createElement(A.j,{placeholder:"Home City",text:"text",name:"originCity",value:this.state.originCity,onChange:this.handleChange})),r.a.createElement(A.g,{item:!0},r.a.createElement(A.j,{placeholder:"Music Style",text:"text",name:"musicStyle",value:this.state.musicStyle,onChange:this.handleChange})),r.a.createElement(A.g,{item:!0},r.a.createElement(A.j,{placeholder:"Tell us About You",text:"text",name:"artistDescription",value:this.state.artistDescription,onChange:this.handleChange,multiline:!0,rowsMax:"6"})),r.a.createElement(A.g,{item:!0},r.a.createElement(A.j,{placeholder:"Instruments",text:"text",name:"instruments",value:this.state.instruments,onChange:this.handleChange})),r.a.createElement(A.g,{item:!0},r.a.createElement(A.j,{placeholder:"Favourite City to Play",text:"text",name:"favouritePlayCity",value:this.state.favouritePlayCity,onChange:this.handleChange})),r.a.createElement(A.g,{item:!0},r.a.createElement(A.j,{placeholder:"Music Track",text:"text",name:"musicTrack",value:this.state.musicTrack,onChange:this.handleChange})),r.a.createElement("h3",null,"Optional"),r.a.createElement(A.g,{item:!0},r.a.createElement(A.j,{placeholder:"Spotify Account",text:"text",name:"spotifyAccount",value:this.state.spotifyAccount,onChange:this.handleChange})),r.a.createElement(A.g,{item:!0},r.a.createElement(A.j,{placeholder:"Youtube Account",text:"text",name:"youtubeAccount",value:this.state.youtubeAccount,onChange:this.handleChange})),r.a.createElement(A.g,{item:!0},r.a.createElement("input",{type:"file",name:"image",onChange:this.handleChangeImage})),r.a.createElement(A.a,{variant:"contained",color:"primary",type:"submit",value:"Submit"},"Save"))))}}]),t}(a.Component),re=n(188),ie=n.n(re),ce=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(o.a)(this,Object(u.a)(t).call(this))).handleExpandClick=function(){e.setState(function(e){return{expanded:!e.expanded}})},e.handleDelete=function(t){e.service.delete(t).then(function(e){return console.log(e)}).catch(function(e){return console.log(e)})},e.state={expanded:!1},e.service=new ne,e}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props.musician||[];return r.a.createElement(r.a.Fragment,null,t.map(function(t,n){return r.a.createElement(r.a.Fragment,null,r.a.createElement(A.b,{className:"musician-cards",key:n},r.a.createElement(A.d,null,r.a.createElement(A.k,{component:"h3",variant:"h3"},t.artistData),r.a.createElement(A.k,{component:"h5",variant:"h5"},t.artistDescription),r.a.createElement(A.k,{component:"h6",variant:"h6"},r.a.createElement("img",{src:t.image,className:"musician-image"}))),r.a.createElement(A.c,null,r.a.createElement(A.h,{className:"dropdown-button",onClick:function(t){return e.handleExpandClick(t)},"aria-label":"Show more"},r.a.createElement(ie.a,{className:"dropdown-button"}))),r.a.createElement(A.e,{in:e.state.expanded,timeout:"auto",unmountOnExit:!0},r.a.createElement(A.d,null,r.a.createElement(A.k,{component:"h5",variant:"h5",align:"center"},"About ",t.artistData),r.a.createElement(A.k,{variant:"subtitle1",align:"center"},r.a.createElement("span",null,"Music styles: "),t.musicStyle),r.a.createElement(A.k,{variant:"subtitle1",align:"center"},r.a.createElement("span",null,"Instruments: "),t.instruments),r.a.createElement(A.k,{variant:"subtitle1",align:"center"},r.a.createElement("span",null,"Home city: "),t.originCity),r.a.createElement(A.k,{variant:"subtitle1",align:"center"},r.a.createElement("span",null,"Favoutite Place to Play: "),t.favouritePlayCity),r.a.createElement(A.k,{variant:"subtitle1",align:"center"},r.a.createElement("a",{href:t.musicTrack,target:"_blank"}," Music Track")),r.a.createElement(A.k,{variant:"subtitle1",align:"center"},r.a.createElement("a",{href:t.spotifyAccount,target:"_blank"}," Spotify Account")),r.a.createElement(A.k,{variant:"subtitle1",align:"center"},r.a.createElement("a",{href:t.youtubeAccount,target:"_blank"}," Youtube Account"))))))}))}}]),t}(a.Component),le=(n(469),function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(o.a)(this,Object(u.a)(t).call(this,e))).update=function(){n.service.getAll().then(function(e){n.setState({listOfMusicians:e.musician})}).catch(function(e){return console.log(e)})},n.state={user:null},n.service=new ne,n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.update(),this.setState({user:this.props.user})}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(ce,{musician:this.state.listOfMusicians}),this.props.user.musician&&r.a.createElement(ae,{update:this.update}))}}]),t}(a.Component)),se=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(o.a)(this,Object(u.a)(t).call(this))).handleChange=function(t){var n=t.target,a=n.name,r=n.value,i=n.checked;"host"===a||"musician"===a?e.setState(Object(P.a)({},a,i)):e.setState(Object(P.a)({},a,r))},e.handleFormSubmit=function(t){t.preventDefault();var n=e.state,a=n.username,r=n.password,i=n.email,c=n.host,l=n.musician;e.service.edit(a,r,i,c,l).then(function(e){console.log(e)}).catch(function(e){return console.log(e)})},e.state={username:"",email:"",host:"",musician:""},e.service=new f,e}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"Edit your Profile"),r.a.createElement("form",{onSubmit:this.handleFormSubmit},r.a.createElement(A.g,null,r.a.createElement(A.g,{item:!0},r.a.createElement(A.j,{placeholder:"Change your Username",text:"text",name:"username",value:this.state.username,onChange:this.handleChange})),r.a.createElement(A.g,{item:!0},r.a.createElement(A.j,{placeholder:"Change your Email",text:"email",name:"email",value:this.state.email,onChange:this.handleChange})),r.a.createElement(A.f,{control:r.a.createElement(A.i,{onChange:this.handleChange,value:this.state.host,checked:this.state.host,color:"primary",name:"host"}),label:"Do you wanna Host?"}),r.a.createElement(A.f,{control:r.a.createElement(A.i,{onChange:this.handleChange,value:this.state.musician,checked:this.state.musician,color:"primary",name:"musician"}),label:"Are you musician?"})),r.a.createElement(A.a,{variant:"contained",color:"primary",type:"submit",value:"Submit"},"Edit")))}}]),t}(a.Component),oe=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(o.a)(this,Object(u.a)(t).call(this,e))).componentDidMount=function(){n.setState({user:n.props.user})},n.onClickCreateConcert=function(e,t,a){n.concertService.new(e,t).then(function(e){console.log(e)}).catch(function(e){console.log(e)}),n.requestService.delete(a).then(function(e){return console.log(e)}).catch(function(e){return console.log(e)})},n.handleDeleteRequests=function(e){n.requestService.delete(e).then(function(e){return console.log(e)}).catch(function(e){return console.log(e)})},n.state={user:{},requestID:{}},n.concertService=new J,n.requestService=new N,n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props.request.musicianID,n=this.props,a=n.user,i=n.request;return r.a.createElement("div",null,r.a.createElement("p",null,t.artistData," wants to play at yout nice Place!"),r.a.createElement("p",null,t.artistData),r.a.createElement("p",null,t.favouritePlayCity),r.a.createElement("p",null,t.instruments),r.a.createElement("p",null,t.musicStyle),r.a.createElement("button",{type:"submit",onClick:function(){return e.onClickCreateConcert(a.hostPlaceID,t._id,i._id)}},"Accept Request"),r.a.createElement("button",{type:"submit",onClick:function(){return e.handleDeleteRequests(i._id)}},"Deny Request"))}}]),t}(a.Component),ue=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(o.a)(this,Object(u.a)(t).call(this,e))).componentDidMount=function(){n.setState({user:n.props.user}),n.getAll(n.props.user._id)},n.getAll=function(e){n.service.getAll(e).then(function(e){if(e.myrequests){var t=e.myrequests.concertRequest,a=[];t.forEach(function(e){n.service.getOne(e._id).then(function(e){a.push(e.request),n.setState({listOfRequests:a}),console.log(a)})})}else alert("Este host no tiene requests limpiar codifgo")})},n.state={user:{},listOfRequests:[]},n.service=new N,n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.state.listOfRequests;return r.a.createElement(r.a.Fragment,null,t.map(function(t,n){return r.a.createElement(oe,{key:n,request:t,user:e.props.user})}))}}]),t}(a.Component),me=(n(471),function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(o.a)(this,Object(u.a)(t).call(this))).logout=function(){e.authService.logout().then(function(){return e.setState({user:null})})},e.authService=new f,e.state={user:null},e}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(b.a,{position:"static"},r.a.createElement(C.a,{className:"nav-bar-guay"},r.a.createElement("span",{color:"black"},"SERENDIPITY"),this.props.user.musician||this.props.user.host?r.a.createElement(r.a.Fragment,null,r.a.createElement(v.a,{to:"/musicians"},r.a.createElement(O.a,null,"Musicians")),r.a.createElement(v.a,{to:"/host-places"},r.a.createElement(O.a,null,"Hosts"))):null,this.props.user.host?r.a.createElement(r.a.Fragment,null,r.a.createElement(v.a,{to:"/requests"},r.a.createElement(O.a,null,"Requests"))):null,r.a.createElement(v.a,{to:"/concerts"},r.a.createElement(O.a,null,"Concerts")),r.a.createElement(v.a,{to:"/your-concerts"},r.a.createElement(O.a,null,"Your Concerts")),r.a.createElement(v.a,{to:"/about"},r.a.createElement(O.a,null,"About")),r.a.createElement(v.a,{to:"/profile"},r.a.createElement(O.a,null,"Profile")),r.a.createElement(v.a,{to:"/register"},r.a.createElement(O.a,{onClick:this.logout},"Logout")))),r.a.createElement(k.a,{exact:!0,path:"/about",render:function(){return r.a.createElement(I,{routename:"about"})}}),r.a.createElement(k.a,{exact:!0,path:"/profile",render:function(){return r.a.createElement(I,{user:e.props.user,routename:"profile"})}}),r.a.createElement(k.a,{exact:!0,path:"/host-places",render:function(){return r.a.createElement(U,{user:e.props.user})}}),r.a.createElement(k.a,{exact:!0,path:"/concerts",render:function(){return r.a.createElement(te,null)}}),r.a.createElement(k.a,{exact:!0,path:"/requests",render:function(){return r.a.createElement(ue,{user:e.props.user})}}),r.a.createElement(k.a,{exact:!0,path:"/musicians",render:function(){return r.a.createElement(le,{user:e.props.user,routename:"musician"})}}),r.a.createElement(k.a,{exact:!0,path:"/edit-profile",component:se}))}}]),t}(a.Component)),he=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(o.a)(this,Object(u.a)(t).call(this))).logout=function(){e.authService.logout().then(function(){return e.setState({user:null})})},e.authService=new f,e.state={user:null},e}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(g,null,function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(me,{user:e}))})}}]),t}(a.Component),pe=n(30),de=n.n(pe),fe=n(54),ge=n.n(fe),ve=n(55),Ee=n.n(ve),be=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(o.a)(this,Object(u.a)(t).call(this,e))).handleFormSubmit=function(e){console.log(e),e.preventDefault();var t=n.state,a=t.username,r=t.password,i=t.email,c=t.host,l=t.musician;n.service.signup(a,r,i,c,l).then(function(e){console.log(e),n.setState({username:"",password:"",email:"",host:!1,musician:!1,redirect:!0})}).catch(function(e){return console.log(e)})},n.handleChange=function(e){var t=e.target,a=t.name,r=t.value,i=t.checked;"host"===a||"musician"===a?n.setState(Object(P.a)({},a,i)):n.setState(Object(P.a)({},a,r)),console.log(n.state)},n.state={username:"",password:"",email:"",host:!1,musician:!1,redirect:!1},n.service=new f,n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return this.state&&this.state.redirect?r.a.createElement(h.a,{to:"/"}):r.a.createElement("form",{onSubmit:this.handleFormSubmit},r.a.createElement(de.a,{direction:"column",spacing:16,container:!0,alignItems:"center","justify-content":"center"},r.a.createElement(de.a,{item:!0},r.a.createElement(M.a,{placeholder:"Name",type:"text",name:"username",value:this.state.username,onChange:this.handleChange})),r.a.createElement(de.a,{item:!0},r.a.createElement(M.a,{placeholder:"password",type:"password",name:"password",value:this.state.password,onChange:this.handleChange})),r.a.createElement(de.a,{item:!0},r.a.createElement(M.a,{placeholder:"email",type:"email",name:"email",value:this.state.email,onChange:this.handleChange}))),r.a.createElement(de.a,{direction:"column",spacing:16,container:!0,alignItems:"center","justify-content":"center"},r.a.createElement(ge.a,{control:r.a.createElement(Ee.a,{onChange:this.handleChange,value:this.state.host,checked:this.state.host,color:"primary",name:"host"}),label:"Do you wanna Host?"}),r.a.createElement(ge.a,{control:r.a.createElement(Ee.a,{onChange:this.handleChange,value:this.state.musician,checked:this.state.musician,color:"primary",name:"musician"}),label:"Are you musician?"}),r.a.createElement(de.a,{item:!0},r.a.createElement(O.a,{variant:"contained",color:"primary",type:"submit",value:"Submit"},"SIGNUP"))))}}]),t}(a.Component),ye=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(o.a)(this,Object(u.a)(t).call(this,e))).handleFormSubmit=function(e){e.preventDefault();var t=n.state,a=t.username,r=t.password;n.service.login(a,r).then(function(e){n.setState({username:"",password:"",redirect:!0})}).catch(function(e){return console.log(e)})},n.handleChange=function(e){var t=e.target,a=t.name,r=t.value;n.setState(Object(P.a)({},a,r))},n.state={username:"",password:"",redirect:!1},n.service=new f,n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return this.state&&this.state.redirect?r.a.createElement(h.a,{to:"/"}):r.a.createElement("div",null,r.a.createElement("form",{onSubmit:this.handleFormSubmit},r.a.createElement(de.a,{direction:"column",spacing:16,container:!0,alignItems:"center"},r.a.createElement(de.a,{item:!0,xs:12},r.a.createElement(M.a,{placeholder:"Name",type:"text",name:"username",value:this.state.username,onChange:this.handleChange})),r.a.createElement(de.a,{item:!0},r.a.createElement(M.a,{placeholder:"password",type:"password",name:"password",value:this.state.password,onChange:this.handleChange})),r.a.createElement(de.a,{item:!0},r.a.createElement(O.a,{variant:"contained",color:"primary",type:"submit",value:"Login"},"LOGIN")))))}}]),t}(a.Component),Ce=n(189),je=n.n(Ce),Oe=(n(475),function(e){function t(){return Object(l.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("img",{src:je.a,alt:""}),r.a.createElement("h1",null,"Serendipity"),r.a.createElement("div",{className:"register-container"},r.a.createElement("div",{className:"login-box"},r.a.createElement("h3",null,"LOGIN"),r.a.createElement(ye,null)),r.a.createElement("div",{className:"signup-box"},r.a.createElement("h3",null,"SIGNUP"),r.a.createElement(be,null))))}}]),t}(a.Component)),ke=n(482),De=function(e){function t(){return Object(l.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(ke.a,null,r.a.createElement(k.a,{exact:!0,path:"/register",render:function(){return r.a.createElement(Oe,null)}}),r.a.createElement(k.a,{path:"/",render:function(){return r.a.createElement(he,null)}})))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Se=n(479);c.a.render(r.a.createElement(Se.a,null,r.a.createElement(De,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[261,2,1]]]);
//# sourceMappingURL=main.dcfe3fe9.chunk.js.map